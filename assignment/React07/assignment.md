# React07 - login session

## 쿠키
- 사용자의 컴퓨터에 저장하는 작은 기록 정보 파일
- 데이터를 클라이언트 측(브라우저 상)에 저장함
- 만료일을 지정할 수 있음
- 개인정보 유출에 취약해 데이터를 서버에 저장하는 방식으로 발전함
- **_session id를 쿠키에 저장함_**


## 세션
- 일정 시간 동안 브라우저로 들어오는 요구를 유지시키는 기술
- 데이터를 서버 측에 저장
- **_각 클라이언트마다 고유한 session id를 부여함_**


## 세션 기반 인증
- 서버가 클라이언트가 로그인 중인 것을 기억하는 것
- session id로 DB에 있는 사용자의 정보를 확인함

### 동작 순서
1) 사용자가 로그인하면, 서버는 세션 저장소에서 사용자의 정보를 조회함
_사용자의 정보가 없으면 session id를 발급함_
2) 발급된 session id는 브라우저 쿠키에 저장함
3) 클라이언트가 다른 요청을 보낼 때마다 서버는 세션저장소에서 session id 조회한 후 로그인 여부를 결정함


## 토큰 기반 인증
- 토큰으로 사용자가 맞다는 것을 인증하는 로직
- 토큰에 있는 사용자의 고유 정보를 확인함
- 보통 JWT 토큰 인증 방식을 이용함

### 토큰
- 서버가 만드는 랜덤 문자열
- 사용자의 로그인 정보, 서버에서 발급했음을 인증하는 서명이 담김

### 동작 순서
1) 로그인을 하면 서버에서 토큰을 발급함
2) 클라이언트는 발급받은 토큰과 함께 서버에 다른 요청을 함
3) 서버는 해당 토큰이 유효한지 검사한 후 응답함


## CORS error
- cross-origin resource sharing의 약자
- 프로토콜, 도메인, 포트 번호가 다른 경우를 의미
- 보안에 취약함
- cross origin하려면 서버와 클라이언트 모두 CORS error 처리를 해야 함

## WEB STORAGE
- key-value 형태
- 브라우저에 클라이언트에 대한 정보를 저장함
- 서버에 불필요하게 정보를 저장하지 않는 장점이 있음

### local storage
- 세션이 끝나도 데이터가 지워지지 않음


### session storage
- 세션이 끝나거나 창이 닫히면 데이터가 지워짐
